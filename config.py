"""
════════════════════════════════════════════════════════════════════════════════
    🌸 SUNSHINE PARADISE BOT - ЦЕНТРАЛИЗОВАННАЯ КОНФИГУРАЦИЯ
════════════════════════════════════════════════════════════════════════════════
Все настройки бота. Импортируйте отсюда вместо жесткого кодирования.
Валюта: МОНЕТЫ (не Кан)
Тема: Sunshine Paradise (не Bleach World)
"""

import os
import sys
from typing import Dict, List
from dotenv import load_dotenv

# ════════════════════════════════════════════════════════════════════════════════
# 1️⃣  ПЕРЕМЕННЫЕ ОКРУЖЕНИЯ
# ════════════════════════════════════════════════════════════════════════════════

load_dotenv()

TOKEN = os.getenv("BOT_TOKEN")
MONGODB_URI = os.getenv("MONGO_URI")
PORT = int(os.getenv("PORT", 8000))

if not TOKEN:
    print("❌ ERROR: BOT_TOKEN не найден в переменных окружения!")
    sys.exit(1)

if not MONGODB_URI:
    print("❌ ERROR: MONGO_URI не найден в переменных окружения!")
    sys.exit(1)

print("✅ Переменные окружения загружены успешно")

# ════════════════════════════════════════════════════════════════════════════════
# 2️⃣  ВИЗУАЛЬНЫЕ НАСТРОЙКИ
# ════════════════════════════════════════════════════════════════════════════════

EMBED_COLOR = 0xFF69B4  # 💗 Розовый для парка
EMBED_AUTHOR = "🌸 Sunshine Paradise 🌸"  # Основная тема

# ════════════════════════════════════════════════════════════════════════════════
# 3️⃣  ОСНОВНЫЕ НАСТРОЙКИ
# ════════════════════════════════════════════════════════════════════════════════

COMMAND_COOLDOWN = 5  # Секунды между командами
MIN_BET = 50  # Минимальная ставка в казино (монеты)
BOOSTER_REWARD_1X = 1000  # Награда за 1x бустер
BOOSTER_REWARD_2X = 2500  # Награда за 2x бустер

# ════════════════════════════════════════════════════════════════════════════════
# 4️⃣  ВАЛЮТА (МОНЕТЫ вместо Кан)
# ════════════════════════════════════════════════════════════════════════════════

CURRENCY_NAME = "монеты"
CURRENCY_EMOJI = "💰"
DAILY_COINS = 500  # Дневная награда
DAILY_COOLDOWN_H = 24  # Часов между дневными наградами

# ════════════════════════════════════════════════════════════════════════════════
# 5️⃣  СИСТЕМА РАБОТ (Sunshine Paradise Edition)
# ════════════════════════════════════════════════════════════════════════════════

JOBS = {
    "guide": {
        "name": "🧭 Гид парка",
        "emoji": "🧭",
        "description": "Показывай туристам красоту парка",
        "pay_min": 300,
        "pay_max": 600,
        "cooldown_hours": 1,
        "messages": [
            "показывал туристам красоту парка",
            "рассказывал истории о Sunshine Paradise",
            "помогал гостям найти нужные места",
            "провел экскурсию по достопримечательностям"
        ]
    },
    "gardener": {
        "name": "🌸 Садовник",
        "emoji": "🌸",
        "description": "Ухаживай за цветами парка",
        "pay_min": 400,
        "pay_max": 800,
        "cooldown_hours": 2,
        "messages": [
            "ухаживал за прекрасными цветами",
            "поливал клумбы в парке",
            "помогал расцветать летним розам",
            "рассаживал новые растения"
        ]
    },
    "barista": {
        "name": "☕ Бариста",
        "emoji": "☕",
        "description": "Готовь напитки в кафе",
        "pay_min": 500,
        "pay_max": 1000,
        "cooldown_hours": 2,
        "messages": [
            "готовил вкусный кофе для гостей",
            "делал красивый латте-арт",
            "обслуживал очередь в кафе",
            "готовил фирменные напитки"
        ]
    },
    "photographer": {
        "name": "📸 Фотограф",
        "emoji": "📸",
        "description": "Снимай красивые моменты",
        "pay_min": 700,
        "pay_max": 1500,
        "cooldown_hours": 3,
        "messages": [
            "фотографировал счастливые моменты",
            "делал красивые снимки парка",
            "помогал туристам со свадебными фото",
            "запечатлевал закаты в парке"
        ]
    },
    "event_manager": {
        "name": "🎉 Организатор событий",
        "emoji": "🎉",
        "description": "Организуй мероприятия",
        "pay_min": 1000,
        "pay_max": 2000,
        "cooldown_hours": 4,
        "messages": [
            "организовал забавный пикник",
            "провел конкурс красоты",
            "устроил вечеринку в парке",
            "координировал развлечения гостей"
        ]
    }
}

# ════════════════════════════════════════════════════════════════════════════════
# 6️⃣  КОЛЕСО ФОРТУНЫ
# ════════════════════════════════════════════════════════════════════════════════

WHEEL_SEGMENTS = {
    "x0": {"multiplier": 0, "chance": 30, "emoji": "💀", "color": "Чёрный"},
    "x0.5": {"multiplier": 0.5, "chance": 22, "emoji": "🔴", "color": "Красный"},
    "x1": {"multiplier": 1, "chance": 19, "emoji": "⚪", "color": "Белый"},
    "x2": {"multiplier": 2, "chance": 18, "emoji": "🌸", "color": "Розовый"},
    "x3": {"multiplier": 3, "chance": 7, "emoji": "🟢", "color": "Зелёный"},
    "x5": {"multiplier": 5, "chance": 2.5, "emoji": "🟡", "color": "Жёлтый"},
    "x10": {"multiplier": 10, "chance": 1.3, "emoji": "💜", "color": "Фиолетовый"},
    "x50": {"multiplier": 50, "chance": 0.15, "emoji": "⭐", "color": "Золотой"},
    "x100": {"multiplier": 100, "chance": 0.08, "emoji": "✨", "color": "Сверкающий"},
    "x999": {"multiplier": 999, "chance": 0.02, "emoji": "🌸", "color": "Чудо"},
}

# ════════════════════════════════════════════════════════════════════════════════
# 7️⃣  РЫБАЛКА (ТИПЫ РЫБ)
# ════════════════════════════════════════════════════════════════════════════════

FISH_TYPES = {
    "common": {
        "name": "Обычная рыба",
        "emoji": "🐟",
        "value_min": 100,
        "value_max": 300,
        "chance": 40
    },
    "rare": {
        "name": "Редкая рыба",
        "emoji": "🐠",
        "value_min": 400,
        "value_max": 800,
        "chance": 30
    },
    "tropical": {
        "name": "Тропическая рыба",
        "emoji": "🦜",
        "value_min": 800,
        "value_max": 1500,
        "chance": 20
    },
    "legendary": {
        "name": "Легендарная рыба",
        "emoji": "🐉",
        "value_min": 3000,
        "value_max": 5000,
        "chance": 9
    },
    "mythical": {
        "name": "Мифическая рыба",
        "emoji": "✨",
        "value_min": 10000,
        "value_max": 10000,
        "chance": 1
    },
    "trash": {
        "name": "Мусор",
        "emoji": "🗑️",
        "value_min": 10,
        "value_max": 50,
        "chance": 5
    }
}

# ════════════════════════════════════════════════════════════════════════════════
# 8️⃣  ВРАГИ/ЖИВОТНЫЕ В ПАРКЕ
# ════════════════════════════════════════════════════════════════════════════════

ENEMIES = {
    "squirrel": {
        "name": "Белка",
        "emoji": "🐿️",
        "hp": 50,
        "reward_min": 200,
        "reward_max": 400,
        "penalty": 50,
        "chance": 50
    },
    "deer": {
        "name": "Олень",
        "emoji": "🦌",
        "hp": 150,
        "reward_min": 500,
        "reward_max": 1000,
        "penalty": 150,
        "chance": 30
    },
    "bear": {
        "name": "Медведь",
        "emoji": "🐻",
        "hp": 400,
        "reward_min": 1500,
        "reward_max": 2500,
        "penalty": 500,
        "chance": 15
    },
    "wolf": {
        "name": "Волк",
        "emoji": "🐺",
        "hp": 300,
        "reward_min": 1200,
        "reward_max": 2000,
        "penalty": 400,
        "chance": 5
    }
}

# ════════════════════════════════════════════════════════════════════════════════
# 9️⃣  МАГАЗИН (ИСТОЧНИКИ ДОХОДА)
# ════════════════════════════════════════════════════════════════════════════════

SHOPS = {
    "flower_stand": {
        "name": "Цветочный киоск",
        "emoji": "🌹",
        "price": 500,
        "income": 50,
        "description": "Продавай цветы туристам. +50 монет/час"
    },
    "ice_cream": {
        "name": "Киоск мороженого",
        "emoji": "🍦",
        "price": 1000,
        "income": 150,
        "description": "Продавай мороженое. +150 монет/час"
    },
    "cafe": {
        "name": "Небольшое кафе",
        "emoji": "☕",
        "price": 3000,
        "income": 400,
        "description": "Кафе с напитками. +400 монет/час"
    },
    "restaurant": {
        "name": "Ресторан",
        "emoji": "🍽️",
        "price": 8000,
        "income": 1000,
        "description": "Ресторан с едой. +1000 монет/час"
    },
    "hotel": {
        "name": "Небольшой отель",
        "emoji": "🏨",
        "price": 20000,
        "income": 2500,
        "description": "Отель для туристов. +2500 монет/час"
    },
    "water_park": {
        "name": "Мини-аквапарк",
        "emoji": "🌊",
        "price": 50000,
        "income": 5000,
        "description": "Аквапарк! +5000 монет/час"
    },
    "casino": {
        "name": "Казино парка",
        "emoji": "🎰",
        "price": 100000,
        "income": 10000,
        "description": "Казино! +10000 монет/час"
    }
}

# ════════════════════════════════════════════════════════════════════════════════
# 🔟 КАРТЫ (ДЛЯ БЛЭКДЖЕКА)
# ════════════════════════════════════════════════════════════════════════════════

CARD_SUITS_EMOJI = ["♠️", "♥️", "♦️", "♣️"]
CARD_VALUES = {
    "2": 2, "3": 3, "4": 4, "5": 5, "6": 6, "7": 7, "8": 8, "9": 9, "10": 10,
    "J": 10, "Q": 10, "K": 10, "A": 11
}
CARD_DECK_TEMPLATE = [f"{value}{suit}" for suit in CARD_SUITS_EMOJI for value in CARD_VALUES.keys()]

# ════════════════════════════════════════════════════════════════════════════════
# 1️⃣1️⃣ РАСХОДУЕМЫЕ ПРЕДМЕТЫ
# ════════════════════════════════════════════════════════════════════════════════

CONSUMABLE_ITEMS = {
    "gift_box": {
        "name": "Подарочная коробка",
        "emoji": "🎁",
        "description": "Красивая коробка с подарком"
    },
    "flower_bouquet": {
        "name": "Букет цветов",
        "emoji": "💐",
        "description": "Прекрасный букет роз"
    },
    "special_coin": {
        "name": "Золотая монета",
        "emoji": "🪙",
        "description": "Редкая золотая монета"
    }
}

# ════════════════════════════════════════════════════════════════════════════════
# 1️⃣2️⃣ АПГРЕЙДЫ ГИЛЬДИЙ
# ════════════════════════════════════════════════════════════════════════════════

GUILD_UPGRADES = {
    "slot_1": {
        "price": 2000,
        "members": 5,
        "emoji": "👥",
        "name": "Слот участников I"
    },
    "slot_2": {
        "price": 6000,
        "members": 10,
        "emoji": "👥",
        "name": "Слот участников II"
    },
    "vault_1": {
        "price": 3000,
        "members": 0,
        "emoji": "💰",
        "name": "Казна I"
    },
    "vault_2": {
        "price": 9000,
        "members": 0,
        "emoji": "💰",
        "name": "Казна II"
    },
    "prestige": {
        "price": 25000,
        "members": 0,
        "emoji": "⭐",
        "name": "Престиж"
    }
}

# ════════════════════════════════════════════════════════════════════════════════
# 1️⃣3️⃣ ПРОМО-КОДЫ
# ════════════════════════════════════════════════════════════════════════════════

PROMO_CODES = {
    "SUNSHINE10": 10000,
    "PARADISE": 50000,
    "FLOWERS": 25000,
    "WELCOME": 15000,
    "PARK": 5000
}
